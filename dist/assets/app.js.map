{"version":3,"file":"assets/app.js","mappings":"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","sources":["webpack://contrast-checker/./src/js/aaa-checker.js","webpack://contrast-checker/./src/js/share.js","webpack://contrast-checker/./src/js/app.js"],"sourcesContent":["function hexToRgb(hex) {\n  const h = hex.replace(\"#\", \"\").trim();\n  const full =\n    h.length === 3\n      ? h\n          .split(\"\")\n          .map((ch) => ch + ch)\n          .join(\"\")\n      : h;\n  const n = parseInt(full, 16);\n  return {\n    r: (n >> 16) & 255,\n    g: (n >> 8) & 255,\n    b: n & 255,\n  };\n}\n\nfunction srgbToLinear(c) {\n  const v = c / 255;\n  return v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\n}\n\nfunction relativeLuminance({ r, g, b }) {\n  const R = srgbToLinear(r);\n  const G = srgbToLinear(g);\n  const B = srgbToLinear(b);\n  return 0.2126 * R + 0.7152 * G + 0.0722 * B;\n}\n\nfunction contrastRatio(lum1, lum2) {\n  const L1 = Math.max(lum1, lum2);\n  const L2 = Math.min(lum1, lum2);\n  return (L1 + 0.05) / (L2 + 0.05);\n}\n\n// thresholds: \"normal\" or \"large\"\nfunction classify(ratio, mode = \"normal\") {\n  const AA = mode === \"large\" ? 3.0 : 4.5;\n  const AAA = mode === \"large\" ? 4.5 : 7.0;\n\n  if (ratio >= AAA) return \"AAA\";\n  if (ratio >= AA) return \"AA\";\n  return \"FAIL\";\n}\n\nfunction bucketPairs(colors, mode = \"normal\") {\n  // colors: array of hex strings (or adapt to your format)\n  const items = colors.map((c) => ({\n    color: c,\n    lum: relativeLuminance(hexToRgb(c)),\n  }));\n\n  const buckets = { AAA: [], AA: [], FAIL: [] };\n\n  for (let i = 0; i < items.length; i++) {\n    for (let j = i + 1; j < items.length; j++) {\n      const a = items[i];\n      const b = items[j];\n      const ratio = contrastRatio(a.lum, b.lum);\n      const key = classify(ratio, mode);\n\n      const obj = {\n        a,\n        b,\n        ratio,\n        normalTextAAA: ratio >= 7.0,\n        normalTextAA: ratio >= 4.5,\n        largeTextAAA: ratio >= 4.5,\n        largeTextAA: ratio >= 3.0,\n        graphicsAAA: ratio >= 4.5,\n        graphicsAA: ratio >= 3.0,\n      };\n\n      // fg/bg and bg/fg\n      buckets[key].push({ ...obj, a: b.color, b: a.color });\n      buckets[key].push({ ...obj, a: a.color, b: b.color });\n    }\n  }\n\n  // optional: best first\n  for (const k of Object.keys(buckets)) {\n    buckets[k].sort((x, y) => y.ratio - x.ratio);\n  }\n\n  return buckets;\n}\nexport { bucketPairs, classify };\n","const hexToRgb = (hex) => {\n  const h = hex.replace(\"#\", \"\").trim();\n  const full =\n    h.length === 3\n      ? h\n          .split(\"\")\n          .map((c) => c + c)\n          .join(\"\")\n      : h;\n  const n = parseInt(full, 16);\n  return { r: (n >> 16) & 255, g: (n >> 8) & 255, b: n & 255 };\n};\n\nconst rgbToHsl = ({ r, g, b }) => {\n  r /= 255;\n  g /= 255;\n  b /= 255;\n  const max = Math.max(r, g, b),\n    min = Math.min(r, g, b);\n  const d = max - min;\n  let h = 0;\n  const l = (max + min) / 2;\n  const s = d === 0 ? 0 : d / (1 - Math.abs(2 * l - 1));\n  if (d !== 0) {\n    switch (max) {\n      case r:\n        h = ((g - b) / d) % 6;\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      default:\n        h = (r - g) / d + 4;\n        break;\n    }\n    h *= 60;\n    if (h < 0) h += 360;\n  }\n  return { h, s, l };\n};\n\nconst smartName = (hex) => {\n  const { r, g, b } = hexToRgb(hex);\n  const { h, s, l } = rgbToHsl({ r, g, b });\n\n  // near white/black/grays\n  if (l >= 0.97) return \"snow\";\n  if (l <= 0.06) return \"ink\";\n  if (s <= 0.1) return l > 0.5 ? \"mist\" : \"slate\";\n\n  // hue buckets\n  if (h >= 190 && h < 235) return \"sky\";\n  if (h >= 35 && h < 60) return \"marigold\";\n  if (h >= 95 && h < 150) return \"lime\";\n  if (h >= 285 && h < 335) return \"fuchsia\";\n\n  // fallback\n  if (h < 35) return \"red\";\n  if (h < 95) return \"orange\";\n  if (h < 190) return \"green\";\n  if (h < 285) return \"blue\";\n  return \"magenta\";\n};\n\nconst uniqName = (name, used) => {\n  let n = name;\n  let i = 2;\n  while (used.has(n)) {\n    n = `${name}-${i}`;\n    i += 1;\n  }\n  used.add(n);\n  return n;\n};\n\nexport const formatPalette = (hexes, { format = \"css\" } = {}) => {\n  const used = new Set();\n  const items = hexes.map((hex) => {\n    const key = uniqName(smartName(hex), used);\n    return { key, hex: hex.toLowerCase() };\n  });\n\n  if (format === \"list\") {\n    return items.map(({ key, hex }) => `${key} â€” ${hex}`).join(\"\\n\");\n  }\n\n  if (format === \"json\") {\n    const obj = Object.fromEntries(items.map(({ key, hex }) => [key, hex]));\n    return JSON.stringify(obj, null, 2);\n  }\n\n  // css default\n  return [\n    \":root{\",\n    ...items.map(({ key, hex }) => `  --${key}: ${hex};`),\n    \"}\",\n  ].join(\"\\n\");\n};\n","import { bucketPairs } from \"./aaa-checker\";\nimport { formatPalette } from \"./share\";\n\nconst ContrastChecker = () => {\n  const CHECK_SVG = `\n  <svg width=\"8\" height=\"6\" viewBox=\"0 0 8 6\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" focusable=\"false\">\n    <path d=\"M7.81413 0.193663C7.56662 -0.0646356 7.16473 -0.0644728 6.91675 0.193663L2.87832 4.40314L1.0834 2.53235C0.83558 2.27406 0.433845 2.27406 0.185867 2.53235C-0.0619555 2.79065 -0.0619555 3.20937 0.185867 3.46783L2.42955 5.8062C2.55346 5.93534 2.71581 6 2.87816 6C3.04051 6 3.20317 5.93551 3.32693 5.8062L7.81413 1.12914C8.06196 0.871004 8.06196 0.452124 7.81413 0.193826V0.193663Z\" fill=\"currentColor\"/>\n  </svg>\n  `;\n\n  const CHECK_SVG_FAIL = `\n  <svg width=\"7\" height=\"7\" viewBox=\"0 0 7 7\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M0.5 0.5L6.5 6.0977\" stroke=\"currentcolor\" stroke-miterlimit=\"10\" stroke-linecap=\"round\"/>\n    <path d=\"M6.5 0.5L0.5 6.0977\" stroke=\"currentcolor\" stroke-miterlimit=\"10\" stroke-linecap=\"round\"/>\n  </svg>\n  `;\n\n  // constants\n  const defaultNumberOfInputs = 8;\n  const localStorageKey = \"contrast-checker-colors\";\n\n  // DOM elements\n  const rootEl = document.getElementById(\"contrast-checker-app\");\n  const colorInputGrid = document.getElementById(\"color-picker-grid\");\n  const clearButton = document.getElementById(\"reset-colors-button\");\n  const submitButton = document.getElementById(\"check-contrast-button\");\n  const backToPaletteButton = document.getElementById(\"back-to-palette-button\");\n  const sharePaletteButton = document.getElementById(\"share-pallette-button\");\n\n  // labels\n  const Labels = [\n    \"Color One\",\n    \"Color Two\",\n    \"Color Three\",\n    \"Color Four\",\n    \"Color Five\",\n    \"Color Six\",\n    \"Color Seven\",\n    \"Color Eight\",\n  ];\n\n  const ResultsLabels = {\n    AAA: \"Where Accessibility Shines\",\n    AA: \"Technically Fine\",\n    FAIL: \"Fails with Flair\",\n  };\n\n  const loadSavedColors = () => {\n    const localStorageKey = \"contrast-checker-colors\";\n    const savedColors = localStorage.getItem(localStorageKey);\n    const uniqueSavedColors = [...new Set(JSON.parse(savedColors) || [])];\n    return uniqueSavedColors;\n  };\n\n  // Create color input field group\n  const createColorInput = (index) => {\n    const fieldGroup = document.createElement(\"div\");\n    fieldGroup.classList.add(\"field-group\");\n\n    const label = document.createElement(\"label\");\n    label.setAttribute(\"for\", `color-${index + 1}`);\n    label.textContent = Labels[index] || `Color ${index + 1}`;\n\n    const input = document.createElement(\"input\");\n    input.type = \"text\";\n    input.setAttribute(\"data-coloris\", \"\");\n    input.id = `color-${index + 1}`;\n\n    const savedColors = loadSavedColors();\n    input.value = savedColors[index] || \"#ffffff\";\n\n    fieldGroup.appendChild(label);\n    fieldGroup.appendChild(input);\n\n    return fieldGroup;\n  };\n\n  // Populate color inputs\n  const populateColorInputs = (numInputs) => {\n    for (let i = 0; i < numInputs; i++) {\n      const fieldGroup = createColorInput(i);\n      Coloris({ el: fieldGroup.querySelector(\"input\") });\n      colorInputGrid.appendChild(fieldGroup);\n    }\n  };\n\n  // Reset colors\n  const resetColors = () => {\n    localStorage.removeItem(localStorageKey);\n    colorInputGrid.innerHTML = \"\";\n    populateColorInputs(defaultNumberOfInputs);\n    populateResults();\n  };\n\n  // Create pass/fail cell\n  const makePassCell = (passed, label) => {\n    const td = document.createElement(\"td\");\n    td.innerHTML = passed\n      ? `${CHECK_SVG}${label}`\n      : `${CHECK_SVG_FAIL}${label}`;\n    if (!passed) td.classList.add(\"fail\");\n    return td;\n  };\n\n  // Populate results\n  const populateResults = () => {\n    // load saved colors\n    const savedColors = loadSavedColors();\n    const buckets = bucketPairs(savedColors);\n\n    if (\n      buckets.AAA.length === 0 &&\n      buckets.AA.length === 0 &&\n      buckets.FAIL.length === 0\n    ) {\n      rootEl.classList.remove(\"show-results\");\n      return;\n    } else {\n      rootEl.classList.add(\"show-results\");\n    }\n\n    const resultsGrid = document.getElementById(\"contrast-results-grid\");\n    resultsGrid.innerHTML = \"\";\n\n    Object.keys(buckets).forEach((key) => {\n      const bucket = buckets[key];\n\n      if (bucket.length === 0) return;\n      const heading = document.createElement(\"h4\");\n      heading.textContent = ResultsLabels?.[key] ?? key;\n      resultsGrid.appendChild(heading);\n\n      const section = document.createElement(\"div\");\n      section.classList.add(\"results\", \"results--\" + key.toLowerCase());\n\n      bucket.forEach((pair) => {\n        const pairDiv = document.createElement(\"div\");\n        pairDiv.classList.add(\"result\");\n        if (key === \"FAIL\" && (pair.a === \"#ffffff\" || pair.b === \"#ffffff\")) {\n          pairDiv.classList.add(\"result--white-fg\");\n        }\n        pairDiv.style.setProperty(\"--bg\", pair.b);\n        pairDiv.style.setProperty(\"--fg\", pair.a);\n\n        // top bits\n        const spanLabel = document.createElement(\"span\");\n        spanLabel.classList.add(\"result-label\");\n        spanLabel.textContent = \"Aa\";\n\n        const spanBorder = document.createElement(\"span\");\n        spanBorder.classList.add(\"result-border\");\n        spanBorder.innerHTML = \"&nbsp;\";\n\n        // details\n        const details = document.createElement(\"div\");\n        details.classList.add(\"result-details\");\n\n        const ratioSpan = document.createElement(\"span\");\n        ratioSpan.classList.add(\"result-ratio\");\n        ratioSpan.textContent = pair.ratio.toFixed(2);\n\n        const colors = document.createElement(\"div\");\n        colors.classList.add(\"colors\");\n\n        const fg = document.createElement(\"div\");\n        fg.classList.add(\"color\");\n        fg.innerHTML = `\n        <span class=\"swatch fg\"></span>\n        <label>Foreground <span>${pair.a}</span></label>\n      `;\n\n        const bg = document.createElement(\"div\");\n        bg.classList.add(\"color\");\n        bg.innerHTML = `\n        <span class=\"swatch bg\"></span>\n        <label>Background <span>${pair.b}</span></label>\n      `;\n\n        colors.appendChild(fg);\n        colors.appendChild(bg);\n\n        const table = document.createElement(\"table\");\n        table.innerHTML = `\n        <tr>\n          <td>Normal Text</td>\n        </tr>\n        <tr>\n          <td>Large Text</td>\n        </tr>\n        <tr>\n          <td>Graphics</td>\n        </tr>\n\n      `;\n\n        // fill rows with AA/AAA cells\n        const rows = table.querySelectorAll(\"tr\");\n\n        // Normal Text: AA (>=4.5), AAA (>=7.0)\n        rows[0].appendChild(makePassCell(!!pair.normalTextAA, \"AA\"));\n        rows[0].appendChild(makePassCell(!!pair.normalTextAAA, \"AAA\"));\n\n        // Large Text: AA (>=3.0), AAA (>=4.5)\n        rows[1].appendChild(makePassCell(!!pair.largeTextAA, \"AA\"));\n        rows[1].appendChild(makePassCell(!!pair.largeTextAAA, \"AAA\"));\n\n        rows[2].appendChild(makePassCell(!!pair.graphicsAA, \"AA\"));\n        rows[2].appendChild(makePassCell(!!pair.graphicsAAA, \"AAA\"));\n\n        details.appendChild(ratioSpan);\n        details.appendChild(colors);\n        details.appendChild(table);\n\n        pairDiv.appendChild(spanLabel);\n        pairDiv.appendChild(spanBorder);\n        pairDiv.appendChild(details);\n\n        section.appendChild(pairDiv);\n      });\n\n      resultsGrid.appendChild(section);\n    });\n  };\n\n  // Coloris onChange event\n  Coloris({\n    onChange: (color, inputEl) => {\n      const allColors = Array.from(\n        document.querySelectorAll(\"#color-picker-grid input\"),\n      ).map((input) => input.value);\n      localStorage.setItem(localStorageKey, JSON.stringify(allColors));\n    },\n  });\n\n  // Initial population\n  populateColorInputs(defaultNumberOfInputs);\n  populateResults();\n\n  // events\n  clearButton.addEventListener(\"click\", resetColors);\n  submitButton.addEventListener(\"click\", populateResults);\n\n  backToPaletteButton.addEventListener(\"click\", () => {\n    rootEl.classList.remove(\"show-results\");\n  });\n\n  sharePaletteButton.addEventListener(\"click\", () => {\n    const savedColors = loadSavedColors();\n    const paletteString = savedColors.join(\", \");\n    const savedColorsFormatted = formatPalette(savedColors, { format: \"css\" });\n\n    navigator.clipboard.writeText(savedColorsFormatted).then(() => {\n      alert(\"Palette copied to clipboard: \\n\" + savedColorsFormatted);\n    });\n  });\n};\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  ContrastChecker();\n});\n\nColoris({\n  theme: \"default\",\n  themeMode: \"auto\",\n  alpha: true,\n  format: \"hex\",\n  swatches: [\"#ffffff\", \"#000000\", \"#5E9AD1\", \"#EDA124\", \"#50ED24\", \"#ED24C8\"],\n  focusInput: false,\n});\n\ndocument.addEventListener(\"click\", (e) => {\n  const btn = e.target.closest(\".clr-field button\");\n  if (!btn) return;\n\n  const input = btn.parentElement.querySelector(\"input[data-coloris]\");\n  if (!input) return;\n\n  input.dispatchEvent(new Event(\"focus\", { bubbles: true }));\n});\n\nconst isColorInput = (t) =>\n  t instanceof HTMLInputElement && t.matches(\"input[data-coloris]\");\n\nconst isValidCssColor = (val) => {\n  if (!val) return false;\n  if (window.CSS && CSS.supports) {\n    return CSS.supports(\"color\", val);\n  }\n  const s = document.createElement(\"span\").style;\n  s.color = \"\";\n  s.color = val;\n  return s.color !== \"\";\n};\n\ndocument.addEventListener(\n  \"focusout\",\n  (e) => {\n    const input = e.target;\n    if (!isColorInput(input)) return;\n\n    const val = input.value.trim();\n    input.classList.remove(\"color-error\");\n\n    if (!val) return;\n\n    if (isValidCssColor(val)) {\n      input.value = val;\n      input.dispatchEvent(new Event(\"input\", { bubbles: true }));\n    } else {\n      input.classList.add(\"color-error\");\n    }\n  },\n  true,\n);\n\ndocument.addEventListener(\"input\", (e) => {\n  if (!e.target.matches(\"[data-coloris]\")) return;\n\n  const field = e.target.closest(\".clr-field\");\n  field.style.color = e.target.value; // updates the little swatch\n});\n"],"names":["hexToRgb","hex","h","replace","trim","full","length","split","map","ch","join","n","parseInt","r","g","b","srgbToLinear","c","v","Math","pow","relativeLuminance","contrastRatio","lum1","lum2","max","min","classify","ratio","mode","ContrastChecker","localStorageKey","rootEl","document","getElementById","colorInputGrid","clearButton","submitButton","backToPaletteButton","sharePaletteButton","Labels","ResultsLabels","AAA","AA","FAIL","loadSavedColors","savedColors","localStorage","getItem","Set","JSON","parse","createColorInput","index","fieldGroup","createElement","classList","add","label","setAttribute","textContent","input","type","id","value","appendChild","populateColorInputs","numInputs","i","Coloris","el","querySelector","makePassCell","passed","td","innerHTML","populateResults","buckets","colors","items","color","lum","j","a","key","obj","normalTextAAA","normalTextAA","largeTextAAA","largeTextAA","graphicsAAA","graphicsAA","push","k","Object","keys","sort","x","y","bucketPairs","remove","resultsGrid","forEach","bucket","heading","section","toLowerCase","pair","pairDiv","style","setProperty","spanLabel","spanBorder","details","ratioSpan","toFixed","fg","bg","table","rows","querySelectorAll","onChange","inputEl","allColors","Array","from","setItem","stringify","addEventListener","resetColors","removeItem","savedColorsFormatted","formatPalette","hexes","format","used","uniqName","name","has","l","rgbToHsl","d","s","abs","smartName","fromEntries","navigator","clipboard","writeText","then","alert","theme","themeMode","alpha","swatches","focusInput","e","btn","target","closest","parentElement","dispatchEvent","Event","bubbles","t","HTMLInputElement","matches","val","window","CSS","supports","isValidCssColor"],"ignoreList":[],"sourceRoot":""}