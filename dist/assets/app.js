(()=>{"use strict";function e(e){const t=e.replace("#","").trim(),n=3===t.length?t.split("").map(e=>e+e).join(""):t,r=parseInt(n,16);return{r:r>>16&255,g:r>>8&255,b:255&r}}function t(e){const t=e/255;return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function n({r:e,g:n,b:r}){return.2126*t(e)+.7152*t(n)+.0722*t(r)}function r(e,t){return(Math.max(e,t)+.05)/(Math.min(e,t)+.05)}function o(e,t="normal"){return e>=("large"===t?4.5:7)?"AAA":e>=("large"===t?3:4.5)?"AA":"FAIL"}const s=()=>{const t="contrast-checker-colors",s=document.getElementById("contrast-checker-app"),a=document.getElementById("color-picker-grid"),l=document.getElementById("reset-colors-button"),c=document.getElementById("check-contrast-button"),i=document.getElementById("back-to-palette-button"),d=document.getElementById("share-pallette-button"),u=["Color One","Color Two","Color Three","Color Four","Color Five","Color Six","Color Seven","Color Eight"],p={AAA:"Where Accessibility Shines",AA:"Technically Fine",FAIL:"Fails with Flair"},m=()=>{const e=localStorage.getItem("contrast-checker-colors");return[...new Set(JSON.parse(e)||[])]},h=e=>{const t=document.createElement("div");t.classList.add("field-group");const n=document.createElement("label");n.setAttribute("for",`color-${e+1}`),n.textContent=u[e]||`Color ${e+1}`;const r=document.createElement("input");r.type="text",r.setAttribute("data-coloris",""),r.id=`color-${e+1}`;const o=m();return r.value=o[e]||"#ffffff",t.appendChild(n),t.appendChild(r),t},A=e=>{for(let t=0;t<e;t++){const e=h(t);Coloris({el:e.querySelector("input")}),a.appendChild(e)}},f=(e,t)=>{const n=document.createElement("td");return n.innerHTML=e?`\n  <svg width="8" height="6" viewBox="0 0 8 6" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">\n    <path d="M7.81413 0.193663C7.56662 -0.0646356 7.16473 -0.0644728 6.91675 0.193663L2.87832 4.40314L1.0834 2.53235C0.83558 2.27406 0.433845 2.27406 0.185867 2.53235C-0.0619555 2.79065 -0.0619555 3.20937 0.185867 3.46783L2.42955 5.8062C2.55346 5.93534 2.71581 6 2.87816 6C3.04051 6 3.20317 5.93551 3.32693 5.8062L7.81413 1.12914C8.06196 0.871004 8.06196 0.452124 7.81413 0.193826V0.193663Z" fill="currentColor"/>\n  </svg>\n  ${t}`:`\n  <svg width="7" height="7" viewBox="0 0 7 7" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0.5 0.5L6.5 6.0977" stroke="currentcolor" stroke-miterlimit="10" stroke-linecap="round"/>\n    <path d="M6.5 0.5L0.5 6.0977" stroke="currentcolor" stroke-miterlimit="10" stroke-linecap="round"/>\n  </svg>\n  ${t}`,e||n.classList.add("fail"),n},g=()=>{const t=function(t,s="normal"){const a=t.map(t=>({color:t,lum:n(e(t))})),l={AAA:[],AA:[],FAIL:[]};for(let e=0;e<a.length;e++)for(let t=e+1;t<a.length;t++){const n=a[e],c=a[t],i=r(n.lum,c.lum),d=o(i,s),u={a:n,b:c,ratio:i,normalTextAAA:i>=7,normalTextAA:i>=4.5,largeTextAAA:i>=4.5,largeTextAA:i>=3,graphicsAAA:i>=4.5,graphicsAA:i>=3};l[d].push({...u,a:c.color,b:n.color}),l[d].push({...u,a:n.color,b:c.color})}for(const e of Object.keys(l))l[e].sort((e,t)=>t.ratio-e.ratio);return l}(m());if(0===t.AAA.length&&0===t.AA.length&&0===t.FAIL.length)return void s.classList.remove("show-results");s.classList.add("show-results");const a=document.getElementById("contrast-results-grid");a.innerHTML="",Object.keys(t).forEach(e=>{const n=t[e];if(0===n.length)return;const r=document.createElement("h4");r.textContent=p?.[e]??e,a.appendChild(r);const o=document.createElement("div");o.classList.add("results","results--"+e.toLowerCase()),n.forEach(t=>{const n=document.createElement("div");n.classList.add("result"),"FAIL"!==e||"#ffffff"!==t.a&&"#ffffff"!==t.b||n.classList.add("result--white-fg"),n.style.setProperty("--bg",t.b),n.style.setProperty("--fg",t.a);const r=document.createElement("span");r.classList.add("result-label"),r.textContent="Aa";const s=document.createElement("span");s.classList.add("result-border"),s.innerHTML="&nbsp;";const a=document.createElement("div");a.classList.add("result-details");const l=document.createElement("span");l.classList.add("result-ratio"),l.textContent=t.ratio.toFixed(2);const c=document.createElement("div");c.classList.add("colors");const i=document.createElement("div");i.classList.add("color"),i.innerHTML=`\n        <span class="swatch fg"></span>\n        <label>Foreground <span>${t.a}</span></label>\n      `;const d=document.createElement("div");d.classList.add("color"),d.innerHTML=`\n        <span class="swatch bg"></span>\n        <label>Background <span>${t.b}</span></label>\n      `,c.appendChild(i),c.appendChild(d);const u=document.createElement("table");u.innerHTML="\n        <tr>\n          <td>Normal Text</td>\n        </tr>\n        <tr>\n          <td>Large Text</td>\n        </tr>\n        <tr>\n          <td>Graphics</td>\n        </tr>\n\n      ";const p=u.querySelectorAll("tr");p[0].appendChild(f(!!t.normalTextAA,"AA")),p[0].appendChild(f(!!t.normalTextAAA,"AAA")),p[1].appendChild(f(!!t.largeTextAA,"AA")),p[1].appendChild(f(!!t.largeTextAAA,"AAA")),p[2].appendChild(f(!!t.graphicsAA,"AA")),p[2].appendChild(f(!!t.graphicsAAA,"AAA")),a.appendChild(l),a.appendChild(c),a.appendChild(u),n.appendChild(r),n.appendChild(s),n.appendChild(a),o.appendChild(n)}),a.appendChild(o)})};Coloris({onChange:(e,n)=>{const r=Array.from(document.querySelectorAll("#color-picker-grid input")).map(e=>e.value);localStorage.setItem(t,JSON.stringify(r))}}),A(8),g(),l.addEventListener("click",()=>{localStorage.removeItem(t),a.innerHTML="",A(8),g()}),c.addEventListener("click",g),i.addEventListener("click",()=>{s.classList.remove("show-results")}),d.addEventListener("click",()=>{const e=m(),t=(e.join(", "),((e,{format:t="css"}={})=>{const n=new Set,r=e.map(e=>{const t=((e,t)=>{let n=e,r=2;for(;t.has(n);)n=`${e}-${r}`,r+=1;return t.add(n),n})((e=>{const{r:t,g:n,b:r}=(e=>{const t=e.replace("#","").trim(),n=3===t.length?t.split("").map(e=>e+e).join(""):t,r=parseInt(n,16);return{r:r>>16&255,g:r>>8&255,b:255&r}})(e),{h:o,s,l:a}=(({r:e,g:t,b:n})=>{e/=255,t/=255,n/=255;const r=Math.max(e,t,n),o=Math.min(e,t,n),s=r-o;let a=0;const l=(r+o)/2,c=0===s?0:s/(1-Math.abs(2*l-1));if(0!==s){switch(r){case e:a=(t-n)/s%6;break;case t:a=(n-e)/s+2;break;default:a=(e-t)/s+4}a*=60,a<0&&(a+=360)}return{h:a,s:c,l}})({r:t,g:n,b:r});return a>=.97?"snow":a<=.06?"ink":s<=.1?a>.5?"mist":"slate":o>=190&&o<235?"sky":o>=35&&o<60?"marigold":o>=95&&o<150?"lime":o>=285&&o<335?"fuchsia":o<35?"red":o<95?"orange":o<190?"green":o<285?"blue":"magenta"})(e),n);return{key:t,hex:e.toLowerCase()}});if("list"===t)return r.map(({key:e,hex:t})=>`${e} â€” ${t}`).join("\n");if("json"===t){const e=Object.fromEntries(r.map(({key:e,hex:t})=>[e,t]));return JSON.stringify(e,null,2)}return[":root{",...r.map(({key:e,hex:t})=>`  --${e}: ${t};`),"}"].join("\n")})(e,{format:"css"}));navigator.clipboard.writeText(t).then(()=>{alert("Palette copied to clipboard: \n"+t)})})};document.addEventListener("DOMContentLoaded",()=>{s()}),Coloris({theme:"default",themeMode:"auto",alpha:!0,format:"hex",swatches:["#ffffff","#000000","#5E9AD1","#EDA124","#50ED24","#ED24C8"],focusInput:!1}),document.addEventListener("click",e=>{const t=e.target.closest(".clr-field button");if(!t)return;const n=t.parentElement.querySelector("input[data-coloris]");n&&n.dispatchEvent(new Event("focus",{bubbles:!0}))}),document.addEventListener("focusout",e=>{const t=e.target;if(!((n=t)instanceof HTMLInputElement&&n.matches("input[data-coloris]")))return;var n;const r=t.value.trim();t.classList.remove("color-error"),r&&((e=>{if(!e)return!1;if(window.CSS&&CSS.supports)return CSS.supports("color",e);const t=document.createElement("span").style;return t.color="",t.color=e,""!==t.color})(r)?(t.value=r,t.dispatchEvent(new Event("input",{bubbles:!0}))):t.classList.add("color-error"))},!0),document.addEventListener("input",e=>{e.target.matches("[data-coloris]")&&(e.target.closest(".clr-field").style.color=e.target.value)})})();
//# sourceMappingURL=app.js.map